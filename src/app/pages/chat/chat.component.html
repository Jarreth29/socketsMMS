<div
  class="container mx-auto mt-6 p-4 border rounded-lg shadow-lg max-w-lg bg-white"
>
  <h2 class="text-2xl front-bold mb-4 text-center text-gray-700">
    Chat en tiempo real
  </h2>

  <div
    class="mensajes flex flex-col-reverse space-y-4 space-y-reverse border p-4 rounded-md mb-4 bg-gray-50 overflow-y-auto"
    style="max-height: 400px"
  >
    <div
      *ngFor="let msg of mensajes"
      class="mensaje p-3 rounded-lg shadow-sm max-w-xs"
      [ngClass]="{
        'bg-blue-100 text-blue-800 self-start': msg.autor === 'usuario',
        'bg-gray-100 text-gray-800 self-end': msg.autor !== 'usuario'
      }"
    >
      <div class="text-sm font-semibold">{{ msg.username }}</div>
      <div class="text-base">{{ msg.contenido }}</div>
      <small class="text-xs text-gray-500">{{
        msg.fechaEnvio | date : "short"
      }}</small>
    </div>
  </div>

  <div class="flex items-center space-x-3">
    <input
      class="flex-grow px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-300"
      [(ngModel)]="mensaje"
      placeholder="Escribe tu mensaje aqui..."
      [disabled]="!conectado"
    />
    <button
      class="px-4 py-2 bg-blue-500 text-white rounded-lg shadow-sm hover:bg-blue-600 focus:ring-2 focus:ring-blue-300"
      (click)="enviarMensaje()"
      [disabled]="!conectado || mensaje.trim() === ''"
    >
      enviar
    </button>
  </div>
</div>
